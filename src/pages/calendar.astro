---
import Observancedaytab from "../components/Observancedaytab.astro";
import Social from "../components/Social.astro";
import Layout from "../layouts/Layout.astro";
import { april } from "../observanceDaysData/april";
import { august } from "../observanceDaysData/august";
import { december } from "../observanceDaysData/december";
import { february } from "../observanceDaysData/february";
import { january } from "../observanceDaysData/january";
import { july } from "../observanceDaysData/july";
import { june } from "../observanceDaysData/june";
import { march } from "../observanceDaysData/march";
import { may } from "../observanceDaysData/may";
import { november } from "../observanceDaysData/november";
import { october } from "../observanceDaysData/october";
import { september } from "../observanceDaysData/september";

const months = [
  "January",
  "February",
  "March",
  "April",
  "May",
  "June",
  "July",
  "August",
  "September",
  "October",
  "November",
  "December",
];

const datas = [
  january,
  february,
  march,
  april,
  may,
  june,
  july,
  august,
  september,
  october,
  november,
  december,
];

const reorderItems = (arr: any, pos: number) => {
  return [...arr.slice(pos), ...arr.slice(0, pos)];
};

const d = new Date();
const monthIndex = d.getMonth();
const RearrangedData = reorderItems(datas, monthIndex);
const RearrangedMonths = reorderItems(months, monthIndex);
let currentMonth = months[monthIndex].toLowerCase();
---

<Layout
  title="Calendar"
  description="Observance days calendar related to environment and sustainability"
  activePage="calendar"
>
  <div class="wrapper">
    <article>
      <h1>Observance Days Calendar</h1>
      <p class="description">
        Don't miss the important environmental days..
        <br />
        In case you did, we're here to remind you ðŸ’š
      </p>

      <br />
      <br />

      {
        RearrangedData.map((data, i) => {
          return (
            <Observancedaytab
              data={data}
              month={RearrangedMonths[i].toLowerCase()}
              currentMonth={currentMonth}
            />
          );
        })
      }

      <br />
      <br />

      <div>
        <Social />
      </div>
    </article>
  </div>
</Layout>

<style lang="scss">
  h1 {
    text-align: center;
  }

  .description {
    text-align: center;
    font-size: 1.5rem;
  }

  .wrapper {
    margin-inline: 17rem;
    margin-top: 5rem;
  }

  /* Small screens */
  @media only screen and (max-width: 600px) {
    .wrapper {
      margin-inline: 0;
      margin-top: 0;
      margin-bottom: 6rem;
    }

    h2 {
      text-align: center;
      font-size: 2rem;
    }

    .description {
      margin: 1rem;
    }
  }
</style>
